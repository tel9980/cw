{% extends "base.html" %}

{% block content %}
<div class="stats-grid">
    <div class="stat-item">
        <div class="stat-value">{{ "%.2f"|format(today_income) }}</div>
        <div class="stat-label">ä»Šæ—¥æ”¶å…¥</div>
    </div>
    <div class="stat-item">
        <div class="stat-value">{{ "%.2f"|format(today_expense) }}</div>
        <div class="stat-label">ä»Šæ—¥æ”¯å‡º</div>
    </div>
    <div class="stat-item">
        <div class="stat-value">{{ "%.2f"|format(today_profit) }}</div>
        <div class="stat-label">ä»Šæ—¥åˆ©æ¶¦</div>
    </div>
    <div class="stat-item">
        <div class="stat-value">{{ pending_orders }}</div>
        <div class="stat-label">å¾…åŠ å·¥è®¢å•</div>
    </div>
    <div class="stat-item">
        <div class="stat-value">{{ unpaid_orders }}</div>
        <div class="stat-label">æœªæ”¶æ¬¾è®¢å•</div>
    </div>
    <div class="stat-item">
        <div class="stat-value">{{ "%.2f"|format(month_profit) }}</div>
        <div class="stat-label">æœ¬æœˆåˆ©æ¶¦</div>
    </div>
</div>

<div class="quick-actions">
    <a href="/order/new" class="btn">+ æ–°å»ºè®¢å•</a>
    <a href="/income/new" class="btn btn-success">+ å½•å…¥æ”¶å…¥</a>
    <a href="/expense/new" class="btn btn-warning">+ å½•å…¥æ”¯å‡º</a>
</div>

<div class="grid-2">
    <div class="card">
        <h2>ğŸ“‹ æœ€è¿‘è®¢å•</h2>
        <table>
            <thead>
                <tr>
                    <th>è®¢å•å·</th>
                    <th>å®¢æˆ·</th>
                    <th>é‡‘é¢</th>
                    <th>çŠ¶æ€</th>
                    <th>æ—¥æœŸ</th>
                </tr>
            </thead>
            <tbody>
                {% for order in recent_orders %}
                <tr>
                    <td>{{ order.order_no }}</td>
                    <td>{{ order.customer_name }}</td>
                    <td>{{ "%.2f"|format(order.total_amount) }}</td>
                    <td><span class="status-badge status-{{ order.status }}">{{ order.status }}</span></td>
                    <td>{{ order.order_date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="card">
        <h2>ğŸ’¡ ä½¿ç”¨å¸®åŠ©</h2>
        <div style="line-height: 1.8; color: #666;">
            <p><strong>ğŸ“ è®¢å•ç®¡ç†</strong><br>ç‚¹å‡»"æ–°å»ºè®¢å•"åˆ›å»ºæ–°è®¢å•ï¼Œæ”¯æŒ7ç§è®¡ä»·å•ä½</p>
            <p><strong>ğŸ’° æ”¶å…¥å½•å…¥</strong><br>Gé“¶è¡Œç”¨äºæœ‰ç¥¨æ®äº¤æ˜“ï¼ŒNé“¶è¡Œç”¨äºå¾®ä¿¡/ç°é‡‘</p>
            <p><strong>ğŸ“Š æ”¯å‡ºç®¡ç†</strong><br>æ”¯æŒæˆ¿ç§Ÿã€æ°´ç”µã€é…¸ç¢±ã€å·¥èµ„ç­‰12ç§ç±»å‹</p>
            <p><strong>ğŸ”„ æµç¨‹çŠ¶æ€</strong><br>å¾…åŠ å·¥ â†’ åŠ å·¥ä¸­ â†’ å·²å®Œå·¥ â†’ å·²äº¤ä»˜ â†’ å·²æ”¶æ¬¾</p>
            <p><strong>ğŸ“ˆ æŠ¥è¡¨æŸ¥çœ‹</strong><br>ç”Ÿæˆæœˆåº¦ç»Ÿè®¡ã€å®¢æˆ·æ’åç­‰è´¢åŠ¡æŠ¥è¡¨</p>
        </div>
    </div>
</div>

<div class="card">
    <h2>ğŸ­ ç³»ç»Ÿä¿¡æ¯</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; text-align: center;">
        <div>
            <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“¦</div>
            <div style="font-weight: 600;">è®¢å•ç®¡ç†</div>
            <div style="color: #999; font-size: 12px;">5ç§çŠ¶æ€è¿½è¸ª</div>
        </div>
        <div>
            <div style="font-size: 32px; margin-bottom: 8px;">ğŸ’µ</div>
            <div style="font-weight: 600;">æ”¶å…¥ç®¡ç†</div>
            <div style="color: #999; font-size: 12px;">Gé“¶è¡Œ/Né“¶è¡Œ</div>
        </div>
        <div>
            <div style="font-size: 32px; margin-bottom: 8px;">ğŸ’¸</div>
            <div style="font-weight: 600;">æ”¯å‡ºç®¡ç†</div>
            <div style="color: #999; font-size: 12px;">12ç§æ”¯å‡ºç±»å‹</div>
        </div>
        <div>
            <div style="font-size: 32px; margin-bottom: 8px;">ğŸ‘¥</div>
            <div style="font-weight: 600;">å®¢æˆ·ç®¡ç†</div>
            <div style="color: #999; font-size: 12px;">ä¿¡ç”¨é¢åº¦æ§åˆ¶</div>
        </div>
    </div>
</div>
{% endblock %}