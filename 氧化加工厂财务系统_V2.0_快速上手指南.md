# 氧化加工厂财务系统 V2.0 - 快速上手指南

## 一分钟了解系统

本系统专为**小型氧化加工厂**设计，帮助小白会计高效完成：
- 订单管理（来料加工）
- 收入记录（客户付款）
- 支出管理（原料、委外、费用）
- 财务报表生成

---

## 业务场景速查表

### 您的业务特点

| 场景 | 系统如何处理 |
|------|-------------|
| 多种计价方式 | 件/条/只/个/米/公斤/平方米 |
| 加工工序 | 喷砂→拉丝→抛光→氧化 |
| 委外加工 | 记录委外费用，对应到订单 |
| 收入不确定 | 预收款+订单收款分开记录 |
| 支出不确定 | 按实际支出分类记录 |
| G/N银行 | G银行=有票，N银行=现金/微信 |

---

## 日常操作流程

### 每天工作

```
1. 收到客户付款
   └── 记录收入 → 关联订单（或预收款）
   
2. 产生支出
   └── 记录支出 → 选择类型（房租/化工料/委外费等）
   
3. 新订单
   └── 创建订单 → 选择客户 → 选择工序 → 计算金额
```

### 每月工作

```
1. 月末对账
   └── 核对银行流水
   
2. 生成报表
   └── 利润表、成本表、客户对账单
   
3. 特殊支出
   └── 工资、房租、水电费
```

---

## 常用操作示例

### 场景1：收到客户订单

```
物品：铝型材6063
数量：100米
单价：5元/米
工序：喷砂 + 氧化
委外：喷砂（委外）

结果：
- 订单金额：100 × 5 = 5,000元
- 委外成本：5,000 × 20% = 1,000元
- 利润预估：4,000元
```

### 场景2：客户付款（多种情况）

**情况A：一笔订单一笔付款**
```
订单金额：5,000元
客户付款：5,000元（G银行）
→ 直接关联订单
```

**情况B：一笔订单分多次付款**
```
订单金额：10,000元
首款：6,000元 → 关联订单
尾款：4,000元 → 关联同一订单
→ 分两笔记录
```

**情况C：预收款**
```
客户付款：10,000元
暂不确定订单
→ 记录为"预收款"
→ 后续再分配到具体订单
```

### 场景3：支出记录

| 支出类型 | 是否要票 | 银行账户 | 关联订单 |
|---------|---------|---------|---------|
| 房租 | ✓ | G银行 | - |
| 三酸原料 | ✓ | G银行 | - |
| 委外喷砂 | ✓ | G/N银行 | ✓ 关联订单 |
| 日常费用 | 有时 | N银行 | - |
| 工资 | - | G银行 | - |

---

## 计价方式对照表

| 计价方式 | 适用物品 | 示例客户 |
|---------|---------|---------|
| 件 | 小零件、螺丝 | 电子配件厂 |
| 条 | 铝条、钢条 | 铝材批发中心 |
| 只 | 把手、拉手 | 五金配件厂 |
| 个 | 配件、组件 | 精密制造企业 |
| 米 | 铝型材、管材 | 优质客户有限公司 |
| 公斤 | 板材、型材 | 精密制造企业 |
| 平方米 | 大板、面板 | 铝材批发中心 |

---

## 加工工序说明

```
喷砂 → 拉丝 → 抛光 → 氧化
  ↑       ↑       ↑
  │       │       └── 最后工序（本厂完成）
  │       └────────── 可委外
  └────────────────── 可委外
```

### 委外策略

| 工序 | 是否常委外 | 委外比例 |
|-----|-----------|---------|
| 喷砂 | 常委外 | 40-50% |
| 拉丝 | 偶尔委外 | 20-30% |
| 抛光 | 偶尔委外 | 20-30% |
| 氧化 | 从不委外 | 本厂核心工序 |

---

## G银行 vs N银行

| 银行类型 | 用途 | 特点 |
|---------|------|------|
| **G银行** | 正式交易 | - 有发票<br>- 大额交易<br>- 供应商付款 |
| **N银行** | 现金交易 | - 无发票<br>- 小额支出<br>- 日常费用<br>- 微信收款 |

### 经验法则

- 金额 > 5,000元 → 用G银行
- 金额 < 1,000元 → 可用N银行
- 有发票 → G银行
- 无发票 → N银行

---

## 财务报表解读

### 利润表关键指标

```
总收入 = 客户付款总额
- 总支出 = 原料 + 委外 + 费用 + 工资
────────────────────
= 净利润
```

### 成本结构（参考）

| 成本项目 | 占比 |
|---------|------|
| 原料（三酸等） | 15-20% |
| 委外加工 | 10-15% |
| 工资 | 20-25% |
| 房租水电 | 8-10% |
| 其他费用 | 5-8% |

---

## 常见问题

### Q1：客户一次性付了三个订单的钱，怎么记录？

**方法：**
1. 记录一笔收入
2. 分配到三个订单

```python
收入金额：15,000元
分配：
  订单A：5,000元
  订单B：6,000元
  订单C：4,000元
```

### Q2：供应商催款，但发票还没到？

**处理：**
1. 先不记录支出
2. 等发票到了再记录
3. 或者记录为"待付款"

### Q3：月末对账发现银行流水多了500元？

**处理：**
1. 查找对应客户
2. 确认为某订单收款
3. 创建收入记录并分配

---

## 系统维护

### 每日备份
系统自动备份，保留10个版本

### 数据导出
支持Excel导出，用于：
- 打印对账单
- 报税材料
- 银行贷款材料

---

## 快速命令

```bash
# 生成示例数据
python oxidation_finance_v20/examples/generate_comprehensive_demo.py

# 运行测试
pytest oxidation_finance_v20/tests/test_database.py

# 启动系统
python 氧化加工厂财务助手_V2.0_完整版.py
```

---

## 附：系统自动生成的示例数据

运行 `generate_comprehensive_demo.py` 后会生成：

| 数据类型 | 数量 | 说明 |
|---------|------|------|
| 客户 | 6家 | 覆盖各种计价方式 |
| 供应商 | 6家 | 化工料、委外加工商等 |
| 订单 | 45个 | 90天内，含各种工序 |
| 收入 | 52笔 | 含预收款、多笔分配 |
| 支出 | 95笔 | 含各种支出类型 |
| 银行交易 | 147条 | G银行+N银行 |

**建议：** 先用示例数据熟悉系统，再导入真实数据。

---

*本指南配合 AGENTS.md 使用，AGENTS.md 包含开发规范，本指南包含业务操作。*
